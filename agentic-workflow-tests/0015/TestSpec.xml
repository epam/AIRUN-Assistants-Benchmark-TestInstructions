<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<TestSpec>
    <Id>0013</Id>
    <Title>Add Zipkin-backed Tracing to Golf application</Title>
    <Category>solution-or-component-generation</Category>
    <Complexity>low</Complexity>
    <CodeRepository>https://github.com/PolinaTolkachova/golf-application</CodeRepository>
    <Stack>
        <Languages>
            <Language primary="true">Java</Language>
        </Languages>
    </Stack>
    <Task>
<![CDATA[
Add tracing support to to Golf application.

Use Zipkin as tracer implementation.

Configure tracing to sample 100% of requests.
]]>
    </Task>
    <Context>
        <Files>
            <File>pom.xml</File>
            <File>src/main/resources/application.properties</File>
        </Files>
    </Context>
    <TestPlan>
        <TestStep><![CDATA[
Start Zipkin either as Java jar:

```bash
java -jar zipkin.jar
```

or via Docker:

```bash
docker run -d -p 9411:9411 openzipkin/zipkin
```
]]>
        </TestStep>
        <TestStep></TestStep>
        <TestStep>build the application with the command: `mvn clean install`</TestStep>
        <TestStep>start the application with the command: `mvn spring-boot:run`</TestStep>
        <TestStep>Open the application at http://localhost:8082/ and login</TestStep>
        <TestStep>Verify that traces appeared in the Zipkin UI at http://localhost:9411/zipkin</TestStep>
        <TestStep>Add results of the manual tests to output.md. See (testing-template.md)[testing-template.md]</TestStep>
    </TestPlan>
    <Criteria>
        <Criterion>
            <Assert>Ensure that org.springframework.boot:spring-boot-starter-actuator dependency has been added added to pom.xml</Assert>
            <Assert>Ensure that io.micrometer:micrometer-tracing-bridge-brave dependency has been added added to pom.xml</Assert>
            <Assert>Ensure that io.zipkin.reporter2:zipkin-reporter-brave dependency has been added added to pom.xml</Assert>
            <Assert>Ensure that management.tracing.sampling.probability=1.0 property has been configured in src/main/resources/application.properties</Assert>
            <Assert>Ensure that management.zipkin.tracing.endpoint=http://localhost:9411/api/v2/spans property has been configured in src/main/resources/application.properties</Assert>
            <Assert>Make sure that the application is built without errors</Assert>
            <Assert>Make sure that the application is launched without errors</Assert>
            <Assert>Make sure that the application is opened at http://localhost:8082/</Assert>
            <Assert>Make sure that an user has logged in in the application</Assert>
            <Assert>Verify that traces have been appeared in the Zipkin UI at http://localhost:9411/zipkin</Assert>
        </Criterion>
        <Criterion type="accuracy" weight="high" comment="functionality">
            <Assert>Ensure that the CHANGED code accomplishes the intended functionality.</Assert>
            <Assert>Ensure that the CHANGED code handles potential edge cases, exceptions, or invalid inputs gracefully where it is required.</Assert>
        </Criterion>
        <Criterion type="accuracy" weight="high" comment="adherence to task requirements">
            <Assert>Make sure that the CHANGES are primarily made to achieve the intended functionality.</Assert>
            <Assert>Make sure that the CHANGES do not contain unrequested modifications, unused imports or code.</Assert>
        </Criterion>
        <Criterion type="accuracy" weight="high" comment="code quality">
            <Assert>Ensure that the CHANGED code is syntactically correct, compiles without errors.</Assert>
            <Assert>Ensure that the CHANGED code follows project style guides and maintain consistency with the existing codebase.</Assert>
            <Assert>Ensure that the CHANGED code is clean, readable, adheres to best practices and naming conventions.</Assert>
            <Assert>Ensure that the CHANGED code is easily maintainable, with proper structure and separation of concerns.</Assert>
            <Assert>Make sure that Spring Boot's features such as dependency injection, auto-configuration, and data access abstraction are properly utilized in the the CHANGED code.</Assert>
        </Criterion>
        <Criterion type="accuracy" weight="high" comment="documentation">
            <Assert>Ensure that the CHANGED code is well-documented, with clear and concise documentation for each part of the code.</Assert>
        </Criterion>
        <Criterion type="accuracy" weight="high" comment="security">
            <Assert>Ensure that CHANGED code keeps application secure by using proper authentication, authorization, and data validation techniques.</Assert>
            <Assert>Ensure that CHANGED code avoids exposing sensitive data.</Assert>
            <Assert>Ensure that CHANGED code protects the application from common security vulnerabilities.</Assert>
        </Criterion>
        <Criterion type="accuracy" weight="high" comment="configuration">
            <Assert>Ensure that CHANGED application configuration is flexible and externalized to efficiently manage different environments.</Assert>
        </Criterion>
    </Criteria>
    <MetaInfo>
    </MetaInfo>
</TestSpec>
